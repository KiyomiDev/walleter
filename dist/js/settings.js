const userNameInput=document.querySelector(".settings__form .username__input"),userNameVal=localStorage.getItem("username"),baseCurrencySelect=document.querySelector(".base__currency-select"),baseCurrencyVal=localStorage.getItem("base__currency"),changeBtns=document.querySelectorAll(".settings__form .change"),saveChangesBtn=document.querySelector(".user__info .save"),headUserName=document.querySelector(".head .username");userNameInput.value=userNameVal,fetch("../static/data/countriesInfo.json").then((e=>e.json())).then((e=>{e.forEach((e=>{const t=e.countryName,a=e.currencyName,r=e.currencyCode,n=`<option ${r===baseCurrencyVal?"selected":""} value="${r}" data-country-name=${t}>${r} - ${a}</option>`;baseCurrencySelect.insertAdjacentHTML("beforeend",n)}))})),changeBtns.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault();const t=e.target.previousElementSibling;t.classList.remove("disabled"),t.focus()}))})),saveChangesBtn.addEventListener("click",(e=>{const t=JSON.parse(localStorage.getItem("accountsObj")),a=userNameInput.value,r=baseCurrencySelect.value;if(a&&a!==userNameVal){localStorage.setItem("username",`${a}`);const e=a.split(" ")[0];headUserName.innerText=e}r!==baseCurrencyVal&&(localStorage.setItem("base__currency",`${r}`),t["account-1"].currency=r,localStorage.setItem("accountsObj",JSON.stringify(t))),e.preventDefault()}));